<!DOCTYPE html>
<!-- saved from url=(0056)http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486 -->
<html  id="customDoc"  class="mod-with-msyahei"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">  <title> 高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间</title> <link  rel="shortcut icon"  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/16_favicon.ico"  type="image/x-icon">   <meta  name="keywords"  content="高并发高负载系统架构-php篇,"> <meta  name="description"  content="记录我工作 生活中的点点滴滴。  把我的记忆保存在这里。,高并发高负载系统架构-php篇"><script>window.wpo={start:new Date*1,pid:109,page:'qing'}</script><script>window.qDomain={"qing":"http://hi.baidu.com","static":"http://hi.bdimg.com","passport":"https://passport.baidu.com","portrait":"http://tx.bdimg.com","hiup":"http://hi.baidu.com","photo":"http://hiphotos.baidu.com","message":"http://msg.baidu.com","friend":"http://frd.baidu.com","mp3":"http://mp3.baidu.com","ting":"http://ting.baidu.com","image":"http://img.baidu.com","qup":"http://upload.hi.baidu.com","www":"http://www.baidu.com"};window.qUserInfo={"userName":"gyc800","nickname":"gyc800","portrait":"387b677963383030fc00","qingUrl":"\/gyc800","spaceName":"做我想做的，说我想说的。","right":"0","avatarStatus":"1","flagNeedInvite":"0","flagNotInvited":"0","version":"2"};window.qVisitorInfo={"userName":"轻轻砍","nickname":"轻轻砍","portrait":"408ae8bdbbe8bdbbe7a08df21a","isHost": false,"isRandUrl": false,"isForceMoved": false,"loginStatus":"not_activate","isOldUser":0,"qingUrl":"","right":"0","version":"0"};window.qPageInfo={"pageUrl":"http:\/\/hi.baidu.com\/gyc800\/item\/eb58fd3a5752c4f62784f486","referUrl":"http:\/\/www.baidu.com\/s?tn=baiduhome_pg&ie=utf-8&bs=%E5%88%86%E6%9E%90PHP%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%80%A7%E8%83%BD&f=8&rsv_bp=1&rsv_spt=1&wd=%E5%A6%82%E4%BD%95%E8%AE%A9PHP%E7%A8%8B%E5%BA%8F%E6%89%BF%E5%8F%97%E9%AB%98%E8%B4%9F%E8%BD%BD%E9%AB%98%E5%B9%B6%E5%8F%91&rsv_sug3=34&rsv_sug4=451&rsv_sug2=0&inputT=2"};window.qUserAvatar={size20:"http://hiphotos.baidu.com/space/scrop=20;q=100/sign=306a117476c6a7efbd78ef798dc79d61/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg",size40:"http://hiphotos.baidu.com/space/scrop=40;q=100/sign=a1bd2674ce1b9d168e99dd3e83e380bf/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg",size65:"http://hiphotos.baidu.com/space/scrop=65;q=100/sign=19601c8dfdfaaf5180bdc6e0fc69a2db/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg",size110:"http://hiphotos.baidu.com/space/scrop=110;q=100/sign=31b6fa129e510fb37c4730c8a90ef9a4/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg",size160:"http://hiphotos.baidu.com/space/scrop=160;q=100/sign=31b6fa129e510fb37c4730c8a90ef9a3/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg"};window.qVisitorAvatar={size20:"",size40:"",size65:"",size110:"",size160:""};window.qBdsToken="e28a0cbedf9ea8a3b9ca80487f25006a";window.qErrorInfo={"no":"0","msg":""};window.qServerInfo={"timeStamp":"1392081853"};window.qLongPolling={"url":"http:\/\/m.hi.baidu.com\/i\/msg\/listen"}</script><link  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/qbase_datauri.css"  type="text/css"  rel="stylesheet">     <link  rel="stylesheet"  type="text/css"  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/qcomment_datauri.css"><link  rel="stylesheet"  type="text/css"  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/mod_userInfo.css">   <link  type="text/css"  rel="stylesheet"  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/detail_datauri.css">    <link  rel="stylesheet"  type="text/css"  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/shCoreDefault.css">     <script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/qing.js"></script>  <script>
    /*最终页页面变量*/ 
    window.detailPage = {
        threadId : "eb58fd3a5752c4f62784f486",
        blogTitle: "高并发高负载系统架构-php篇" || "无标题",
        contentType : "text",
        originAuthorName : "",
        originPortrait : "",
        originThreadId : ""
    }; 
    </script><script>wpo.head=new Date*1;</script> <link  href="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/bdsstyle.css"  rel="stylesheet"  type="text/css"><style  type="text/css"  id="undefined"></style><script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/logger.js"></script></head> <body  data-layershow="1"><iframe  frameborder="0"  style="display: none;"></iframe><div  id="bdshare_s"  style="display: block;"><iframe  id="bdsIfr"  style="position:absolute;display:none;z-index:9999;"  frameborder="0"></iframe><div  id="bdshare_l"  style="display: none;"><div  id="bdshare_l_c"><h6>分享到</h6><ul><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_mshare mshare">一键分享</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_qzone qqkj">QQ空间</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_tsina xlwb">新浪微博</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_bdysc bdysc">百度云收藏</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_renren rrw">人人网</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_tqq txwb">腾讯微博</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_bdxc bdxc">百度相册</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_kaixin001 kxw">开心网</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_tqf txpy">腾讯朋友</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_tieba bdtb">百度贴吧</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_douban db">豆瓣网</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_tsohu shwb">搜狐微博</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_bdhome bdhome">百度新首页</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_sqq sqq">QQ好友</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_thx thx">和讯微博</a></li><li><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="bds_more">更多...</a></li></ul><p><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="goWebsite">百度分享</a></p></div></div></div>  <header  class="mod-topbar"  id="modTopbar"><iframe  class="mod-topbar-bgframe"></iframe><div  class="mod-topbar-pseudo-real"><div  class="wrapper-box clearfix"><div  class="left-box"><a  href="http://hi.baidu.com/"  class="logo-box"><span  id="baiduSpaceLogo"  class="q-logo"></span></a></div> <div  class="center-box"><ul  class="q-menubox">  <li  class="q-menuitem q-newicon"> <a  href="http://xiangce.baidu.com/"  target="_blank">相册</a>  </li><li  class="q-menuitem "  id="qMenuRecommend"><a  href="http://hi.baidu.com/index/">广场</a></li><li  class="q-menuitem q-newicon q-menu-item-game"><a  href="http://youxi.baidu.com/yxpm/pm.jsp?pid=10106000091_970983"  target="_blank">游戏</a><div  class="q-game-frame"><iframe  src="about:blank"  frameborder="no"  border="0"  scrolling="0"></iframe></div></li></ul></div>  <div  class="right-box"><ul  class="q-navbox"><li  class="q-navitem"><a  href="https://passport.baidu.com/center">轻轻砍</a></li><li  class="q-navitem q-nav-sp"><span></span></li><li  class="q-navitem"><a  href="https://passport.baidu.com/?logout&bdstoken=e28a0cbedf9ea8a3b9ca80487f25006a&u=http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486"  id="qNavRightExit">退出</a></li></ul><div  class="right mod-qhome-follow-box"><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="follow-btn a-btn-follow qing-stat-nsclick"  data-nsclick="20121012follow_hdbtnaddcare">关注此空间</a></div> </div> </div></div></header>  <section  class="mod-page-body"> <div  class="mod-page-main wordwrap clearfix">  <div  class="x-page-container">    <section  class="mod-topspaceinfo mod-cs-header"><div  class="head-topbar"></div><div  class="container"><h1><a  class="space-name cs-header-spacename"  href="http://hi.baidu.com/gyc800">做我想做的，说我想说的。</a></h1><p  class="space-description cs-header-spacesummary">记录我工作 生活中的点点滴滴。  把我的记忆保存在这里。</p></div><div  class="head-footer"></div></section>   <div  class="mod-blogpage-wraper"> <div  class="blog-bg-main-repeat hide"></div>  <div  class="grid-80 mod-blogpage"> <div  class="blog-bg-main hide"></div>    <div  class="mod-text-content mod-post-content mod-cs-contentblock"> <div  class="cs-contentblock-bg"></div>   <div  class="content-head clearfix">  <div  class="content-other-info">  <span>2013-03-27 15:08</span>  </div>   <h2  class="title content-title">高并发高负载系统架构-php篇</h2>  </div>  <div  id="content"  class="content mod-cs-content text-content clearfix"> <p>首先呢，我罗列一下文章的目录，让大家有个整体轮廓的了解！</p><p>1、为什么要进行高并发和高负载的研究</p><p>2、高并发和高负载的约束条件</p><p>3、解决之道——硬件篇</p><p>4、解决之道——部署篇</p><p>5、解决之道——环境篇</p><p>6、解决之道——SiteEngine篇</p><p>7、解决之道——测试篇</p><p>8、结尾</p><p>&nbsp;</p><p>1、为什么要进行高并发和高负载的研究</p><p>1.1、产品发展的需要</p><p>1.2、公司发展的需要</p><p>1.3、当前形式决定的</p><p>&nbsp;</p><p>2、高并发和高负载的约束条件</p><p>2.1、硬件</p><p>2.2、部署</p><p>2.3、操作系统</p><p>2.4、Web&nbsp;服务器</p><p>2.5、PHP</p><p>2.6、MySQL</p><p>2.7、测试</p><p>&nbsp;</p><p>3、解决之道——硬件篇</p><p>处理能力的提升：部署多颗CPU，选择多核心、具备更高运算频率、更大高速缓存的CPU；</p><p>处理能力的提升最直接的反应在于Web请求的处理效率和PHP程序的执行效率。</p><p>内存带宽与容量：更大的内存带宽和容量；</p><p>内存带宽与容量的提升最直接的反应在于应对数据库大量的数据交换。</p><p>磁盘搜索与I/O能力：选择更高的转速、更大的硬盘缓存、组件磁盘阵列（RAID）；</p><p>磁盘搜索与I/O能力的提升最直接反应在于数据库大量的查询和读写以及文件的读写。</p><p>网络带宽的提升可考虑的因素包括：&nbsp;更大带宽、多线路接入、独享带宽；</p><p>服务器在大负载的情况下，对网络带宽的占用是十分可观的。</p><p>策略：硬件设施是应对大负载的基础，硬件设施的投入可根据实际压力和预算量力而行。</p><p>&nbsp;</p><p>&nbsp;</p><p>4、解决之道——部署篇</p><p>4.1、服务器分离</p><p>4.2、数据库集群和库表散列</p><p>4.3、镜像</p><p>4.4、负载均衡<br>分类：&nbsp;&nbsp;1)、DNS轮循&nbsp;&nbsp;2）代理服务器负载均衡&nbsp;&nbsp;&nbsp;3）地址转换网关负载均衡&nbsp;&nbsp;</p><p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;4）NAT负载均衡&nbsp;&nbsp;&nbsp;5）反向代理负载均衡&nbsp;&nbsp;&nbsp;6）混合型负载均衡</p><p>策略：根据硬件投入和业务需求，选择合理的部署方案。</p><p>部署方案1：</p><p>适用范围：静态内容为主体的网站和应用系统；对系统安全要求较高的网站和应用系统。</p><p>Main&nbsp;Server：主服务器</p><p>承载程序的主体运行压力，处理网站或应用系统中的动态请求；</p><p>将静态页面推送至多个发布服务器；</p><p>将附件文件推送至文件服务器；</p><p>安全要求较高，以静态为主的网站，可将服务器置于内网屏蔽外网的访问。</p><p>DB&nbsp;Server：数据库服务器</p><p>承载数据库读写压力；</p><p>只与主服务器进行数据量交换，屏蔽外网访问。</p><p>File/Video&nbsp;Server：文件/视频服务器</p><p>承载系统中占用系统资源和带宽资源较大的数据流；</p><p>作为大附件的存储和读写仓库；</p><p>作为视频服务器将具备视频自动处理能力。</p><p>发布服务器组：</p><p>只负责静态页面的发布，承载绝大多数的Web请求；</p><p>通过Nginx进行负载均衡部署。</p><p>&nbsp;部署方案2：</p><p>适用范围：以动态交互内容为主体的网站或应用系统；负载压力较大，且预算比较充足的网站或应用系统；</p><p>Web服务器组：</p><p>Web服务无主从关系，属平行冗余设计；</p><p>通过前端负载均衡设备或Nginx反向代理实现负载均衡；</p><p>划分专用文件服务器/视频服务器有效分离轻/重总线；</p><p>每台Web服务器可通过DEC可实现连接所有数据库，同时划分主从。</p><p>数据库服务器组：</p><p>相对均衡的承载数据库读写压力；</p><p>通过数据库物理文件的映射实现多数据库的数据同步。</p><p>共享磁盘/磁盘阵列</p><p>将用于数据物理文件的统一读写</p><p>用于大型附件的存储仓库</p><p>通过自身物理磁盘的均衡和冗余，确保整体系统的IO效率和数据安全；</p><p>方案特性：</p><p>通过前端负载均衡，合理分配Web压力；</p><p>通过文件/视频服务器与常规Web服务器的分离，合理分配轻重数据流；</p><p>通过数据库服务器组，合理分配数据库IO压力；</p><p>每台Web服务器通常只连接一台数据库服务器，通过DEC的心跳检测，可在极短时间内自动切换至冗余数据库服务器；</p><p>磁盘阵列的引入，大幅提升系统IO效率的同时，极大增强了数据安全性。</p><p>&nbsp;</p><p>5、解决之道——环境篇</p><p>5.1、操作系统</p><p>操作系统的选择，关注点在于</p><div>•是否适应于搭建SiteEngine所需要的环境程序？</div><div>•系统本身占用的资源比；</div><div>•系统安全性；</div><div>•系统是否易于操作？</div><p>策略：我们选择FreeBSD，而且是最小化安装以后的FreeBSD。</p><p>5.2、Web服务器</p><p>Web服务器很大一部分资源占用来自于处理Web请求，通常情况下这也就是Apache产生的压力，Apache是世界使用排名第一的Web服务器软件。它可以运行在几乎所有广泛使用的计算机平台上。</p><p>在高并发连接的情况下，Nginx是Apache服务器不错的替代品。Nginx&nbsp;(“engine&nbsp;x”)&nbsp;是俄罗斯人编写的一款高性能的&nbsp;HTTP&nbsp;和反向代理服务器。在国内，已经有新浪、搜狐通行证、网易新闻、网易博客、金山逍遥网、金山爱词霸、校内网、YUPOO相册、豆瓣、迅雷看看等多家网站、频道使用&nbsp;Nginx&nbsp;服务器。</p><p>Nginx的优势：</p><p>高并发连接：官方测试能够支撑5万并发连接，在实际生产环境中跑到2～3万并发连接数。</p><p>内存消耗少：在3万并发连接下，开启的10个Nginx&nbsp;进程才消耗150M内存（15M*10=150M）。</p><p>内置的健康检查功能：如果&nbsp;Nginx&nbsp;Proxy&nbsp;后端的某台&nbsp;Web&nbsp;服务器宕机了，不会影响前端访问。</p><p>策略：相对于老牌的Apache，我们选择Lighttpd和Nginx这些具有更小的资源占用率和更高的负载能力的web服务器。</p><p>5.3、Mysql</p><p>MySQL本身具备了很强的负载能力，MySQL优化是一项很复杂的工作，因为这最终需要对系统优化的很好理解。大家都知道数据库工作就是大量的、短时的查询和读写，除了程序开发时需要注意建立索引、提高查询效率等软件开发技巧之外，从硬件设施的角度影响MySQL执行效率最主要来自于磁盘搜索、磁盘IO水平、CPU周期、内存带宽。</p><p>　　根据服务器上的硬件和软件条件进行MySQl优化。MySQL优化的核心在于系统资源的分配，这不等于无限制的给MySQL分配更多的资源。在MySQL配置文件中我们介绍几个最值得关注的参数：</p><p>改变索引缓冲区长度(key_buffer)</p><p>改变表长(read_buffer_size)</p><p>设定打开表的数目的最大值(table_cache)</p><p>对缓长查询设定一个时间限制(long_query_time)</p><p>&nbsp;</p><p>如果条件允许&nbsp;，一般MySQL服务器最好安装在Linux操作系统中，而不是安装在FreeBSD中。</p><p><br>策略：&nbsp;MySQL优化需要根据业务系统的数据库读写特性和服务器硬件配置，制定不同的优化方案，并且可以根据需要部署MySQL的主从结构。</p><p>5.4、PHP</p><p>1、加载尽可能少的模块；</p><p>2、如果是在windows平台下，尽可能使用IIS或者Nginx来替代我们平常用的Apache；</p><p>3、安装加速器（都是通过缓存php代码预编译的结果和数据库结果来提高php代码的执行速度）<br>&nbsp;eAccelerator</p><p>eAccelerator是一个自由开放源码php加速器，优化和动态内容缓存，提高了性能php脚本的缓存性能，使得PHP脚本在编译的状态下，对服务器的开销几乎完全消除。</p><p>Apc</p><p>　　Alternative&nbsp;PHP&nbsp;Cache（APC）是&nbsp;PHP&nbsp;的一个免费公开的优化代码缓存。它用来提供免费，公开并且强健的架构来缓存和优化&nbsp;PHP&nbsp;的中间代码。</p><p>memcache</p><p>　　memcache是由Danga&nbsp;Interactive开发的，高性能的，分布式的内存对象缓存系统，用于在动态应用中减少数据库负载，提升访问速度。主要机制是通过在内存里维护一个统一的巨大的hash表，Memcache能够用来存储各种格式的数据，包括图像、视频、文件以及数据库检索的结果等</p><p>Xcache</p><p>国人开发的缓存器，</p><p>策略：&nbsp;为PHP安装加速器。</p><p>5.5、代理服务器（缓存服务器）</p><p>Squid&nbsp;Cache（简称为Squid）是一个流行的自由软件（GNU通用公共许可证）的代理服务器和Web缓存服务器。Squid有广泛的用途，从作为网页服务器的前置cache服务器缓存相关请求来提高Web服务器的速度，到为一组人共享网络资源而缓存万维网，域名系统和其他网络搜索，到通过过滤流量帮助网络安全，到局域网通过代理上网。Squid主要设计用于在Unix一类系统运行。</p><p>策略：安装Squid&nbsp;反向代理服务器，能够大幅度提高服务器效率。</p><p>&nbsp;</p><p>6、解决之道——SiteEngine篇</p><p>&nbsp;</p><p>7、解决之道——测试篇</p><p>7.1、测试方法</p><p>7.2、测试用例</p><p>7.3、压力测试</p><p>压力测试是一种基本的质量保证行为，它是每个重要软件测试工作的一部分。压力测试的基本思路很简单：不是在常规条件下运行手动或自动测试，而是在计算机数量较少或系统资源匮乏的条件下运行测试。通常要进行压力测试的资源包括内部内存、CPU&nbsp;可用性、磁盘空间和网络带宽等。一般用并发来做压力测试。</p><p>压力测试工具：webbench，ApacheBench等</p><p>7.4、漏洞测试</p><p>在我们的系统中漏洞主要包括：sql注入漏洞，xss跨站脚本攻击等。安全方面还包括系统软件，如操作系统漏洞，mysql、apache等的漏洞，一般可以通过升级来解决。</p><p>漏洞测试工具：Acunetix&nbsp;Web&nbsp;Vulnerability&nbsp;Scanner</p><p>&nbsp;</p> </div>    <div  class="mod-tagbox clearfix"> </div> <div  class="mod-post-info clearfix">  <div  class="x-bdshare">  <div  id="bdshare"  class="bdshare_t bds_tools get-codes-bdshare"  data="{&#39;wbuid&#39;:1727466295}"> <span  class="bds_more">分享到：</span> <a  class="bds_qzone"  title="分享到QQ空间"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"></a> <a  class="bds_tsina"  title="分享到新浪微博"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"></a> <a  class="bds_tqq"  title="分享到腾讯微博"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"></a> <a  class="bds_renren"  title="分享到人人网"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"></a> </div> <script  id="bdshare_js"  data="type=tools&amp;uid=713670"  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/bds_s_v2.js"></script>  <script>
        var bds_config = {'bdTop':240};
                    var all_img = qing.g('content').getElementsByTagName('img');
            if(all_img.length>0){
                bds_config.bdPic = all_img[0].src;
            }
                document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?v=72836429.js?cdnversion=" + Math.ceil(new Date()/3600000);
    </script> </div> <div  class="op-box mod-cs-opBox">  <a  class="report-btn"  target="_blank"  href="http://tousu.baidu.com/hi.add?tsurl=http%3A%2F%2Fhi.baidu.com%2Fgyc800%2Fitem%2Feb58fd3a5752c4f62784f486"> 举报 </a>  <span  class="pv">浏览(141)</span> <a  class="comment-bnt"  id="commentBnt"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#" > 评论<span  class="comment-nub hide"></span> </a>   <a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  id="shareBnt"   class="share-bnt"> 转载<span  id="shareNub"  class="share-nub"></span> </a>   </div> </div>   </div>    <div  class="mod-share-detail"  id="shareDetail"  style="display:none"></div>   <div  class="mod-relate-blogs"  id="relateBlog"> <h3  class="relate-title">你可能也喜欢</h3> <ul  class="relate-blog-list clearfix">   <li  class="first"> <a  href="http://hi.baidu.com/2012charlene/item/4f827474796b612c70442379"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/7aec54e736d12f2ebe45e2394dc2d56285356822.jpg"  class="relate-img"  alt="老2的画"  title="老2的画"> </a> <a  href="http://hi.baidu.com/2012charlene/item/4f827474796b612c70442379"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">老2的画</a>    </li><li> <a  href="http://hi.baidu.com/jeffe71ao/item/cb145a4492aab3bedf2a9f42"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/d439b6003af33a8777df8a8fc65c10385243b5f1.jpg"  class="relate-img"  alt="让孩子拥有好心态的五大窍门"  title="让孩子拥有好心态的五大窍门"> </a> <a  href="http://hi.baidu.com/jeffe71ao/item/cb145a4492aab3bedf2a9f42"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">让孩子拥有好心态的五大窍门</a>    </li><li> <a  href="http://hi.baidu.com/hzhchxlxhxd/item/fdcb70ce45cf102b46d5c0d3"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/0b46f21fbe096b633015ebfb0c338744ebf8ac09.jpg"  class="relate-img"  alt="家庭新年联欢会"  title="家庭新年联欢会"> </a> <a  href="http://hi.baidu.com/hzhchxlxhxd/item/fdcb70ce45cf102b46d5c0d3"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">家庭新年联欢会</a>    </li><li> <a  href="http://hi.baidu.com/haiziyigui/item/a41d9f2359c26fa8b632636f"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/5bafa40f4bfbfbed251460247af0f736afc31f1f.jpg"  class="relate-img"  alt="教子20则短故事：感叹这位爸爸教育的智慧"  title="教子20则短故事：感叹这位爸爸教育的智慧"> </a> <a  href="http://hi.baidu.com/haiziyigui/item/a41d9f2359c26fa8b632636f"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">教子20则短故事：感叹这位爸爸教育的智慧</a>    </li><li> <a  href="http://hi.baidu.com/69411511/item/973545a3835dcd3d030a4dd1"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/b21bb051f8198618c10fcf1c4aed2e738ad4e6da.jpg"  class="relate-img"  alt="春节这些天"  title="春节这些天"> </a> <a  href="http://hi.baidu.com/69411511/item/973545a3835dcd3d030a4dd1"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">春节这些天</a>    </li><li> <a  href="http://hi.baidu.com/hhbbgz/item/7fa4bed0b518c9e83dc2cb35"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/7dd98d1001e939016e6a936979ec54e736d19678.jpg"  class="relate-img"  alt="小学生成长日记：1158家里面的年夜饭"  title="小学生成长日记：1158家里面的年夜饭"> </a> <a  href="http://hi.baidu.com/hhbbgz/item/7fa4bed0b518c9e83dc2cb35"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">小学生成长日记：1158家里面的年夜饭</a>    </li><li> <a  href="http://hi.baidu.com/gyc800/item/4b0065c2ea9a0224a1b50a03"  target="_blank"  class="qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_img"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/023b5bb5c9ea15cee1a854a2b6003af33b87b2d3.jpg"  class="relate-img"  alt="mysql_connect 和mysql_real_connect区别"  title="mysql_connect 和mysql_real_connect区别"> </a> <a  href="http://hi.baidu.com/gyc800/item/4b0065c2ea9a0224a1b50a03"  target="_blank"  class="relate-txt qing-stat-nsclick"  data-nsclick="m_20121105_detail_relates_txt">mysql_connect 和mysql_real_connect区别</a>   </li></ul> </div>   <div  class="mod-detail-pager clearfix">  <div  class="detail-nav-pre"> <a  href="http://hi.baidu.com/gyc800/item/3206df19310ed84be75e06ad"  hidefocus=""  title="上一篇"></a> </div>   <div  class="detail-nav-next"> <a  href="http://hi.baidu.com/gyc800/item/a35be2e3226ad60f560f1d93"  hidefocus=""  title="下一篇"></a> </div>  </div>   <div  id="commentDetail"  class="mod-comment-detail clearfix mod-cs-comment">   <div  class="mod-recent-readers"> <h3  class="recent-readers-title">本文最近访客</h3> <ul  class="readers-list clearfix">    <li  class="first"> <a  target="_blank"  href="http://hi.baidu.com/hexcode"> <img  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/aec379310a55b319638cc4f443a98226cffc173d.jpg"  title="hexcode"  alt="hexcode"  class="portrait"> </a> <a  target="_blank"  href="http://hi.baidu.com/hexcode"  class="user-name"  title="hexcode"> hexcode </a> <div  class="visit-time"  data-visit-time="1375631228">8月4日</div>    </li></ul> </div>  <div  class="comment-title">评论</div> <div  class="comment-content"  style="display: block; height: auto; overflow: visible;"><div  id="qcmt1935240"  class="qcmt-wraper-box-comment "><div  class="cmt-border-top"></div><div  class="qcmt-arrow-wraper"  style="left:696px;"><div  class="qcmt-arrow-border"></div><div  class="qcmt-arrow-shadow"></div><div  class="qcmt-arrow"></div><div  class="qcmt-arrow-inner"></div></div><div  class="qcmt-input-box clearfix"><div  class="qcmt-input-textarea-box"><div  class="qcmt-textarea-wraper"><div  class="qcmt-textarea-minishadow clearfix"><div  class="qcmt-tag-box"></div><textarea  class="qcmt-textarea-box"  style="overflow: hidden;"></textarea></div></div><div  class="qcmt-input-repost-checkbox left"><div  class="qcmt-reply-friend hide"><input  type="checkbox"  name="comment"  class="qcmt-reply-friend-check"  id="repostCheckFriend"  checked="">&nbsp;<label  for="repostCheckFriend">同时评论给&nbsp; </label></div><div  class="qcmt-reply-author hide"><input  type="checkbox"  name="comment"  class="qcmt-reply-author-check"  id="repostCheckAuthor"  checked="">&nbsp;<label  for="repostCheckAuthor">同时评论给原文作者&nbsp; </label></div></div></div><div  class="qcmt-face-entrance"></div><div  class="qcmt-sub-bt-box"><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"  class="cmt-add button button-save button-cmt clearfix"><span  class="button-left">&nbsp;</span><span  class="button-text">发布</span><span  class="button-right">&nbsp;</span></a><div  class="qcmt-input-textnum-tip right hide"><span  class="num-box num-total">500</span><span  class="num-box num-l">/</span><span  class="num-box now-num">0</span></div></div></div><div  class="qcmt-main-wraper"><div  class="qcmt-main-box"><div  class="qcmt-list-wraper"><div  class="cmt-list"></div></div><div  class="qcmt-footer-wraper"><div  class="qcmt-footer-box clearfix"><a  class="qcmt-collapse"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"><span  class="collapse-arrow"></span><span  class="collapse-tip cs-contentblock-link">收起</span></a><span  class="qcmt-vl hide">|</span><a  class="cmt-seemore cmt-seenext hide"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#reply"  target="_blank"><span  class="seemore-arrow hide"></span><span  class="seemore-tip cs-contentblock-link">查看更多</span></a><span  class="seemore-loading hide"></span></div></div></div></div></div></div> </div>   </div>  </div>  </div> </div> </section>  <footer  class="mod-footer mod-cs-footer"><div  class="clearfix hidden-box"></div><div  class="footer-box"><div  class="inner-box"><a  href="http://help.baidu.com/question?prod_en=hi"  target="_blank">帮助中心</a><span>&nbsp;|&nbsp;</span><a  href="http://tieba.baidu.com/p/1781683739"  target="_blank">空间客服</a><span>&nbsp;|&nbsp;</span><a  href="http://tousu.baidu.com/hi/add"  target="_blank">投诉中心</a><span>&nbsp;|&nbsp;</span><a  href="http://www.baidu.com/search/hi_contract.html"  target="_blank">空间协议</a></div><div  class="copy-box">©2014&nbsp;Baidu</div></div></footer>  <script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/mod_foot.js"></script> <script>
        	qing.dom.ready(function(){
                if (qVisitorInfo.loginStatus == 'activated'){
                    qext.stat.ns('m_20121012_loga_num');
					qext.fn.setStoken();
				}
			});
        </script>        <script>qext.stat.ns('m_20120425_');</script>  <script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/qcmt_import.js"></script>  <script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/shCore.js"></script> <script>
        SyntaxHighlighter.highlight();
    </script>   <script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/detail.js"></script>   <script>wpo.tti=new Date*1;</script><script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/allsite.js"></script><script>document.write(unescape("%3Cscript src='http://hm.baidu.com/h.js%3F8c869b543955d43e496c2efee5b55823' type='text/javascript'%3E%3C/script%3E"));qext.stat.ns('m_20120713_qing_pv');</script><script  src="./高并发高负载系统架构-php篇_做我想做的，说我想说的。_百度空间_files/h.js"  type="text/javascript"></script><div  style="position: fixed; z-index: 1002; left: 378.5px; top: 36px;"><iframe  style="position: absolute; z-index: 1002; left: 0px; top: 0px; border: 0px; opacity: 0; width: 564px; height: 78px;"></iframe><div  id="_XQing1_entity"  class="x-fixed-tip x-fixed-tip-clickonce"  style="position: absolute; z-index: 1002; left: 0px; top: 0px;"><div  id="_XQing1_contentBox"  class="x-tip-content-box"><div  id="_XQing1_content"  class="x-tip-content"><div  class="tip-title">我们已经准备好了属于您的百度空间</div></div><div  id="_XQing1_btnPanel"  class="x-tip-btnPanel"><a  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"   class="x-dialog-btn btn-s btn-12">一键激活</a></div></div><a  id="_XQing1_closeBtn"  href="http://hi.baidu.com/gyc800/item/eb58fd3a5752c4f62784f486#"   class="x-tip-closebtn"></a><div  id="_XQing1_triangle"  class="x-tip-triangle-bottom"  style="left: 44.5px; top: -6px;"><div  class="x-tip-triangle"></div><div  class="x-tip-triangle-inner"></div></div></div></div><div  id="qBack2topBtn"  style="bottom: 1%; margin-left: 490px; width: 57px; height: 57px; overflow: hidden; cursor: pointer; left: 50%; -webkit-transition: opacity; transition: opacity; position: fixed; opacity: 0.6; display: block;"><div  class="back2top-ani-icon"  style=""><div  class="back2top-icon-bg"></div><div  class="back2top-icon-real"></div></div></div></body></html>